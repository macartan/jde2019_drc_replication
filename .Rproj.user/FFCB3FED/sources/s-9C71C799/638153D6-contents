
## This file runs all sub do-files necessary for the paper
## Sub do-files take data from "Data", and output in "Results"

rm(list = ls())

spilloversims       <- 50 # Used both for calculating propensities and for the ri

capture_var_names <- c(
  "Financial Irregularities",
  "Embezzlement (direct)",
  "Embezzlement (list experiment)",
#  "Avg Number of (Private) Beneficiaries",
  "Inequality of (Private) Benefits",
  "Dominance of Chief's Preferences")

mech_var_names = c("Meeting Attendance","Interventions in Meeting",
  "Dominance of Men in Discussion","Participatory Selection Methods",
  "Committee Composition",
  "Accountability Mechanisms", "Private Complaints", 
  "Knowledge of Project Amount","Willingness to Seek Information",
  "Quality of Accounting","Information Transmission")

varnames <- c(capture_var_names, mech_var_names)

varnames2 <- paste(rbind(varnames, rep("",length(varnames))))

# helper files
source("Analyses/1.1 Helpers.R")
source("Analyses/1.2 Analysis Helpers.R")
source("Analyses/1.3 Prog_MFI.R")
source("Analyses/1.4 Prog_matplot.R")
source("Analyses/1.5 output helpers.R")

# prepare datasets, and variables
source("Analyses/2.1 PrepDatasets.R")
source("Analyses/2.2.1 PrepMeasuresCapture.R")
source("Analyses/2.2.2 PrepMeasuresParticipation.R")
source("Analyses/2.2.3 PrepMeasuresAccountability.R")
source("Analyses/2.2.4 PrepMeasuresTransparency.R")
source("Analyses/2.2.5 PrepMeasuresEfficiency.R")

# balance
source("Analyses/3.1 Prep Data for Balance Tests.R")
source("Analyses/3.2 Implement Balance Tests.R")

# analysis
source("Analyses/4.1 MainResults.R")

# does robust but also hetero
source("Analyses/4.2 RobustResults.R")
source("Analyses/5 SumStats.R")
source("Analyses/6 SocDesirability.R")
source("Analyses/7 Spillovers.R")

# figures
source("Analyses/8 Fig_Effects.R")
source("Analyses/9 Fig_Spillovers.R")
source("Analyses/10 Fig_Timeline.R")

# END #
