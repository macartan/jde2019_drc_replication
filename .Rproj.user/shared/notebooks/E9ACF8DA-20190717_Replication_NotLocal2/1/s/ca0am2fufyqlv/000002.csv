"0",""
"0","DIS = unique(D$DISTRICT)"
"0","DISTRICT=D$DISTRICT"
"0","CHEF = D$CHEF"
"0",""
"0","fig_timeline <- function(){"
"0","  par(mfrow=c(2,2))"
"0","  "
"0","  T1a = 	as.Date(D$lottery_date_med, origin=""1960-01-01"")"
"0","  T1b = 	as.Date(D$T1_end_cdv_med, origin=""1960-01-01"")"
"0","  T1c = 	as.Date(D$T1_end_cdc_med, origin=""1960-01-01"") "
"0","  Ra = 	as.Date(D$stepA, origin=""1960-01-01"")"
"0","  Rb = 	as.Date(D$stepD, origin=""1960-01-01"")"
"0","  up = .2"
"0","  #	lshift = 320"
"0","  lshift = 800"
"0","  "
"0","  RANGE=c(min(T1a), max(Rb,T1c))"
"0","  RANGE2 = as.Date(seq(RANGE[1], RANGE[2], 60))"
"0","  "
"0","  DISTRICT[DISTRICT==""SUD KIVU""] <- ""SOUTH KIVU"""
"0","  D$DISTRICT[D$DISTRICT==""SUD KIVU""] <- ""SOUTH KIVU"""
"0","  DIS[DIS==""SUD KIVU""] <- ""SOUTH KIVU"""
"0","  "
"0","  for(j in 1:length(DIS)){"
"0","    CH = unique(CHEF[DISTRICT == DIS[j]])"
"0","    DI = DIS[j]	"
"0","    o = rank(T1a[DISTRICT == DIS[j]])"
"0","    plot(RANGE, RANGE, main=DI, ylim = c(0, length(CH)+1), xlim=c(min(RANGE)-lshift, max(RANGE)), axes=F,  xlab="""", ylab = """", cex.main=2)"
"0","    axis(1, at=RANGE2, labels=format(RANGE2, ""%b %Y""), las=1, tick=F, cex.axis=1.5)"
"0","    box()"
"0","    for(i in (1:length(CH))){"
"0","      j = o[i]"
"0","      # Thin line:"
"0","      segments(T1a[CHEF==CH[i]],j, T1c[CHEF==CH[i]],j, col=""black"")"
"0","      # Thick line:"
"0","      segments(T1a[CHEF==CH[i]],j, T1b[CHEF==CH[i]],j, col=""black"", lwd=6)"
"0","      # Red line:"
"0","      segments(Ra[CHEF==CH[i]] ,j+up, Rb[CHEF==CH[i]],j+up, col=""red"", lwd=3)"
"0","      text(min(RANGE)-lshift,j, CH[i], pos=4, cex=1.3)"
"0","    }	"
"0","  }"
"0","  "
"0","}"
"0",""
"0","fig_timeline()	"
